"use strict";app.service("$eea",["$http","$compile",function(e,t){return{test:function(e){return"test"+e},init:function(e){e.field={},e.multipleIndex=1,e.ValidationDisabled=!1,e.selectedLanguage="en",e.groups=groups},group:{addRow:function(e,n,o){o.multipleIndex=o.groups[e][n].length;var i=++o.multipleIndex;o.groups[e][n].push(i),setTimeout(function(){o.$apply(),$("#group-area-"+o.multipleIndex+"-"+n).prepend(t('<div class="row"><button type="button"  title="{{\'deleterow\' | translate}}"class="deleterowbutton" ng-click="deleteRow(\''+e+"', '"+n+"', "+i+')"></button></div>')(o))},10)},deleteRow:function(e,t,n,o){o.groups[e][t][o.groups[e][t].indexOf(n)]=-1,$("#group-area-"+n+"-"+t).html("")}},form:{save:function(e){$("form.eeaform").each(function(t,n){console.log("Testing form - Valid:",e[n.name].$valid),e[n.name].$valid||$("#"+n.name+" .ng-invalid").first().focus()})},submit:function(t,n,o){for(var i in o.field)if(!t||t.$name===i){var r=o.field[i],a="";for(var u in r)a+="&"+encodeURIComponent(u)+"="+encodeURIComponent(r[u]);if(n)return!1;e({method:"POST",url:$("#"+i).attr("eea-action"),headers:{"Content-Type":"application/x-www-form-urlencoded"},data:a}).then(function(e){console.log("response",e.status)},function(e){console.log("error",e.status)})}return!1}}}}]);